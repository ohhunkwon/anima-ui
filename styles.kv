BoxLayout:
    orientation: "vertical"
    __safe_id: [gender.__self__, language.__self__, user.__self__]

    MDToolbar:
        title: "ANIMA"
        md_bg_color: app.theme_cls.primary_light
        specific_text_color: 0.2, 0.2, 0.2, 1

    MDBottomNavigation:
        panel_color: app.theme_cls.primary_light
        text_color_normal: 0.3, 0.3, 0.3, 1
        text_color_active: 0, 0, 0, 1

        MDBottomNavigationItem:
            name: "clone voice"
            text: "record voice"
            icon: "headset"


            MDLabel:
                Accordion:
                    orientation: "vertical"
                    size: root.width, root.height*0.8

                    AccordionItem:
                        title: "Clone voice by speaking"
                        BoxLayout:
                            orientation: 'vertical'
                            padding: 20
                            spacing: 20

                            MDLabel:
                                text: "Say the sentence below:"
                                size_hint: (0.8, 0.2)
                                pos_hint:  {'center_x' : 0.6}
                            MDLabel:
                                text: f'{"Its easy to tell the depth of a well."}'
                                font_size: 30
                                size_hint: (0.8, 0.2)
                                pos_hint:  {'center_x' : 0.6}
                            BoxLayout:
                                orientation: "horizontal"
                                padding: 50
                                spacing: 100
                                ToggleButton:
                                    text: "Start Recording"
                                    pos_hint:  {'center_x' : 0.6}
                                    on_state:
                                        self.text = "Start Recording" if self.state == "normal" else "Recording..."
                                        self.color = (1, 1, 1, 1) if self.state == "normal" else (0, 0, 0, 1)
                                Button:
                                    text: 'Next Sentence'
                                    on_press: print("Next sentence button pressed")
                                    pos_hint:  {'center_x' : 0.6}

                    AccordionItem:
                        title: "Upload .wav"
                        padding: 20
                        spacing: 20

                        BoxLayout:
                            canvas.before:
                                Color:
                                    rgba: 0,0,0,1
                                Rectangle:
                                    size: self.size
                            orientation: 'vertical'
                            size: root.width*0.8, root.height*0.8
                            size_hint: 1, 1
                            FileChooser:
                                id: fc_wav
                                FileChooserListLayout
                        Button:
                            id: upload_wav
                            text: 'Click Me to Upload'

        MDBottomNavigationItem:
            name: "read text"
            text: "read out"
            icon: "view-headline"

            MDLabel:
                Accordion:
                    orientation: "vertical"
                    size: root.width, root.height*0.8

                    AccordionItem:
                        title: "Read out custom text"
                        BoxLayout:
                            orientation: 'vertical'
                            padding: 20
                            spacing: 20

                            TextInput:
                                id: input
                                hint_text: 'Enter text'
                            Button:
                                id: read_input
                                text: 'Click Me to Read Out'
                                on_press: app.process()

                    AccordionItem:
                        title: "Read .pdf"

                        BoxLayout:
                            orientation: 'vertical'

                            BoxLayout:
                                canvas.before:
                                    Color:
                                        rgba: 0,0,0,1
                                    Rectangle:
                                        size: self.size
                                orientation: 'vertical'
                                size: root.width*0.8, root.height*0.8
                                size_hint: 1, 1
                                FileChooser:
                                    id: fc_pdf_upload
                                    FileChooserListLayout
                        Button:
                            id: read_pdf
                            text: 'Click Me to Read Out'

        MDBottomNavigationItem:
            name: "setting"
            text: "settings"
            icon: "dns"
            orientation: "vertical"

            BoxLayout:
                size_hint: 0.5, 0.5
                pos_hint: {'center_x': 0.45, 'top': 1}
                Switch:
                    id: default_voice
                Label:
                    text: 'Default voice ON' if default_voice.active else 'Default voice OFF'
                    color: 'black'

            BoxLayout:
                size_hint: 1, 1
                pos_hint: {'center_x': 0.7, 'center_y': 0.8}
                Button:
                    font_size: 12
                    size_hint: None, None
                    id: btn_gender
                    text: "Select Gender"
                    size_hint: None, None
                    on_parent: gender.dismiss()
                    on_release: gender.open(self)
                DropDown:
                    id: gender
                    on_select: btn_gender.text = f'{args[1]}'
                    Button:
                        id: btn-gender1
                        text: 'Male'
                        size_hint: None, None
                        height: 35
                        on_release: gender.select('Male')
                    Button:
                        id: btn-gender2
                        text: 'Female'
                        size_hint: None, None
                        height: 35
                        on_release: gender.select('Female')
            BoxLayout:
                size_hint: 1, 1
                pos_hint: {'center_x': 0.9, 'center_y': 0.8}
                Button:
                    font_size: 12
                    size_hint: None, None
                    id: btn_language
                    text: "Select Language"
                    size_hint: None, None
                    on_parent: language.dismiss()
                    on_release: language.open(self)
                DropDown:
                    id: language
                    on_select: btn_language.text = f'{args[1]}'
                    Button:
                        id: btn-language1
                        text: 'English'
                        size_hint: None, None
                        height: 35
                        on_release: language.select('English')
                    Button:
                        id: btn-language2
                        text: 'Portuguese'
                        size_hint: None, None
                        height: 35
                        on_release: language.select('Portuguese')
            BoxLayout:
                size_hint: 1, 1
                pos_hint: {'center_x': 1.1, 'center_y': 0.8}
                Button:
                    font_size: 12
                    size_hint: None, None
                    id: btn_user
                    text: "Select User"
                    size_hint: None, None
                    on_parent: user.dismiss()
                    on_release: user.open(self)
                DropDown:
                    id: user
                    on_select: btn_user.text = f'{args[1]}'
                    Button:
                        id: btn-user1
                        text: 'User1'
                        size_hint: None, None
                        height: 35
                        on_release: user.select('User1')
                    Button:
                        id: btn-user2
                        text: 'User2'
                        size_hint: None, None
                        height: 35
                        on_release: user.select('User2')